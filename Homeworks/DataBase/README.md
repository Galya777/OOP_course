Проект 6: Бази от данни
Да се реализира програма, поддържаща операции с прости бази от данни. Базите данни
се състоят от серии от таблици, като всяка таблица е записана в собствен файл. Базата
данни е записана в главен файл (каталог), които съдържа списък от таблиците в базата
данни, като за всяка таблица е зададено име и файл, в който таблицата е записана.
Поддържани типове данни
Всяка “колона” на таблица в базата данни има тип, като в една таблица може да има
едновременно колони от различни типове. Вашето приложение трябва да може да
поддържа следните типове:
Цяло число – поредица от цифри, без никакви други символи между тях. В началото на
числото може да има знак '+' или '-'. Например:
123
-123
+123
Дробно число – поредица от цифри, следвана от символ за точка и след нея друга
поредица от цифри. В началото на числото може да има знак '+' или '-'. Например:
123.456
-123.456
+123.456
Символен низ (стринг) – поредица от произволни символи оградени в кавички. Подобно
на низовете в C++, ако искате да включите символа за кавичка в даден низ, трябва да го
представите като \", а ако искате да включите наклонена черта, трябва да я представите
като \\. Например:
"Hello world!"
"C:\\temp\\"
"\"This is a quotation\""
Освен конкретна стойност, дадена клетка в даден ред на таблицата може да е
“празна”. Такива клетки да се обозначават специално и да е изписват като “NULL”.
След като приложението отвори даден файл, то трябва да може да извършва посочените
по-долу операции, в допълнение на общите операции (close, save, save as, help и
exit):
Страница 27 от 69
import <file name> Добавя в базата данни нова таблица от файл. Във
файла е записана информация за типа на всяка
колона. Всяка таблица има име. При опит за
зареждане на таблица с име, което съвпада с името
на някоя вече заредена таблица, системата да дава
грешка. Добавената таблица се записва в каталога на
базата от данни.
showtables Показва списък с имената на всички заредени
таблици
describe <name> Показва информация за типовете на колоните на
дадена таблица
print <name> Показва всички редове от дадена таблица. Да се
реализира диалогов режим, позволяващ
съдържанието на таблицата да се преглежда по
страници (такива, че се събират на един екран) със
следните команди: следваща страница, предишна
страница, изход.
export <name> <file name> Записва таблица във файл
select <column-n> <value>
<table name>
Извежда всички редове от таблицата, които съдържат
стойността “value” в клетката с дадения пореден
номер. Да се реализира извеждане по страници
addcolumn <table name>
<column name> <column type>
Добавя нова колона (с най-голям номер) в дадена
таблица. За всички съществуващи редове от
таблицата, стойността на тази колона да е празна.
update <table name> <search
column n> <search value>
<target column n> <target
value>
За всички редове в таблицата, чиято колона с
пореден номер <search column n> съдържа
стойността <search column value> се променят така,
че колоната им с пореден номер <target column n> да
получи стойност <target value>. Да се поддържа
стойност NULL.
delete <table name> <search
column n> <search value>
Изтрива всички редове в таблицата, чиято колона
<search column n> съдържа стойността <search
column value>
insert <table name> <column
1> … <column n>
Вмъква нов ред в таблицата със съответните
стойности
innerjoin <table 1> <column Извършва операцията Inner Join над две таблици
Страница 28 от 69
n1> <table 2> <column n2> спрямо колоните <column n1> в първата таблица и
<column n2> във втората. Създава нова таблица и
извежда идентификатора ѝ.
rename <old name> <new
name>
Преименува таблица. Отпечатва грешка, ако новото
име не е уникално.
count <table name> <search
column n> <search value>
Намира броя на редовете в таблицата, чиито колони
съдържат дадената стойност
aggregate <table name>
<search column n> <search
value> <target column n>
<operation>
Извършва дадена операция върху стойностите от
колоната <target column n> на всички редове, чиито
колони с номер <search column n> съдържат
стойността <search value>. Възможните операции са
sum, product, maximum, minimum. Системата да дава
грешка, ако колоните не са числови.
Страница
  
  
  
  BASICALLY, THIS IS THE SPREDSHEET PROJECT BUT EXTENDED TO WORK WITH MULTIPLE TABLES IN A SMALL DATA BASE. 
