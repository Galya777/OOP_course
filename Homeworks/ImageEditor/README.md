To Do:
add more functions

Проект 17: Растерна графика

В рамките на този проект трябва да се разработи приложение, което представлява конзолен редактор на растерни изображения. Вашия редактор трябва да може да поддържа работа с различни файлове, стартиране на сесия/и, прилагане на различни трансформации върху изображенията и разбира се записване на резултата.

Като минимум приложението ви трябва да може да работи с PPM, PGM и PBM файлове (за повече информация вижте http://en.wikipedia.org/wiki/Netpbm_format).

Зареждането на файл с командата load създава “потребителска сесия”, която има уникален номер. В рамките на една сесия могат да са заредени повече от едно изображение. Изпълнението на командата load създава нова потребителска сесия. След командата load се очаква поне едно име на файл, което да се зареди със създаването на сесията. Все пак сесия без снимки в нея е безсмислено.

Пример:
> load lolcat.ppm
Session with ID: 1 started

Програмата трябва да дава възможност за изпълняване на различни трансформации върху файловете в дадена сесия. Когато се прилагат трансформации в сесия, то те важат за всички заредени изображения за текущата сесия. 

Трансформациите се прилагат над изображенията едва след като се изпълни команда save или saveas. Командата save записва всички заредени в текущата потребителска сесия изображения след като прилага всички трансформации, а командата saveas записва под ново име само изображението, което е заредено първо.

След като приложението отвори даден файл, то трябва да може да извършва посочените по-долу операции, в допълнение на общите операции (load, close, save, save as, help и exit):

grayscale	При извикване на тази команда, тя трябва да се приложи върху всички цветни изображения в текущата сесия. Ако в текущата сесия са включени черно-бели изображения, то те не трябва да бъдат модифицирани. Обърнете внимание, че един файл може да бъде във формат, който поддържа цветни изображения  (например PPM), но да бъде чернобял (т.е. всички пиксели в него са нюанси на сивото).
monochrome	Поведението на тази операция е като това на предишната, но тук изображението се преобразува до монохромно (такова, в което има само черни и бели пиксели, без никакви нюанси на сивото). Отново, ако изображението вече е монохромно, тази трансформация не го променя.
negative	Тази команда прави негатив (цветово обръщане) на изображенията в текущата сесия.
rotate <direction>	<direction> е едно от left и right
Реализира се завъртане на 90 градуса в съответната посока.
undo	Като един истински редактор за изображения, приложението трябва да поддържа и команда за отмяна на действие, която премахва последно направената трансформация в текущата сесия. Ако е стартирана нова сесия и след това веднага бъде въведена команда undo, то тя не трябва да има никакъв ефект.
add <image>	Добавя изображението <image> към текущата сесия. Всички приложени до момента трансформации не се прилагат върху него.
session info	Дава възможност на потребителя да получава подробна информация за текущата потребителска сесия  нейният идентификационен номер, участващите изображения, както и набора от трансформации, които до този момент предстоят да бъдат приложени върху съответните изображения, участващи в сесията.
switch <session>	Превключва към сесия с идентификационен номер <session>. Ако сесия с такъв номер не съществува, да се изведе подходящо съобщение за грешка.
collage <direction> <image1> <image2> <outimage>	<direction> е едно от horizontal и vertical
Създава колаж от две изображения <image1> и <image2> (в един и същ формат и една и съща размерност), налични в текущата сесия. Резултатът се записва в ново изображение <outimage>, което се добавя в текущата сесия.

  Dither
Прилага някой от Dithering алгоритмите, които са описани в следната статия:

Tanner Helland (2012) Image Dithering: Eleven Algorithms and Source Code
https://tannerhelland.com/2012/12/28/dithering-eleven-algorithms-source-code.html

Потребителят трябва да може да укаже кой алгоритъм иска да се приложи. Програмата ви трябва да реализира всички 11 алгоритъма от статията.
Изрязване (crop)
Командата получава координатите на правоъгълник и изрязва всички части от изображението, които не влизат в него. Ако правоъгълникът излиза извън рамките на изображението, той автоматично да се смалява до неговите рамки. Например ако изображението е с размери 100x100 и искаме да изрежем правоъгълника с горен-ляв ъгъл в точката (50,50) и долен-десен ъгъл в (1000,1000), ще остане само частта от изображението заключена между (50,50) и (99,99).
Преоразмеряване (resize)
Командата получава един аргумент – стойност в проценти или размери в брой пиксели. След това тя преоразмерява изображението до подадения размер. Потребителят може да подаде както по-малък, така и по-голям размер. Преди да реализирате тази точка потърсете повече информация по темата. Например възможно е новите размери да не са кратни на оригиналните, тогава ще имате нужда от подходящ алгоритъм. Например:  https://courses.cs.vt.edu/~masc1044/L17-Rotation/ScalingNN.html


Пример 1:

> load image1.ppm
Session with ID: 1 started
Image "image1.ppm" added

> add image2.pgm
Image "image2.pgm" added

> add image3.pbm
Image "image2.pgm" added

> rotate left

> grayscale

> session info
Name of images in the session: img1.ppm img2.pgm
Pending transformations: rotate left, grayscale

Пример 2:

> load img1.ppm img2.pbm
Session with ID: 1 started
Image "img1.ppm" added
Image "img2.pbm" added

> add img3.pgm
Image "img3.ppm" added

> grayscale

> rotate left

> load img4.pbm
Session with ID: 2 started
Image "img4.pbm" added

> add img5.ppm
Image "img5.ppm" added

> rotate right

> switch 1 
You switched to session with ID: 1!
Name of images in the session: img1.ppm img2.pbm img3.pgm
Pending transformations: grayscale, rotate left

> switch 2
You switched to session with ID: 2!
Name of images in the session: img4.pbm img5.ppm
Pending transformations: rotate right





Пример 3:

> load image1.ppm
Session with ID: 1 started
Image "image1.ppm" added

> add image2.ppm
Image "image2.ppm" added

> add image3.pgm
Image "image3.pgm" added

> collage horizontal image1.ppm image2.ppm collage.ppm
New collage "collage.ppm" created

> collage vertical image1.ppm image3.pgm
Cannot make a collage from different types! (.ppm and .pgm)

> save
 
