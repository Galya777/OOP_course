Маймуната Зимбу решил, че е крайно време да започне сериозен бизнес. Навремето, когато пристигнал в България, докато го карали към зоопарка, шофьорът минал прекалено близо до няколко университета. Така докато стигнат, Зимбу вече бил собственик на няколко бакалавърски дипломи и на две магистърски. Когато пристигнали в зоопарка, оттам му казали, че е прекалено квалифициран и не го пуснали вътре. Така той се оказал в сложна ситуация -- трябвало сам да си изкарва прехраната.

Зимбу разгледал дипломите си и особено му харесала една, издадена от "Вселенския университет за висши науки и съвършенство във всички области" от Горно Нанадолнище. На нея пишело: "ИТ специалист!" (с удивителна). И понеже сега "компютрите са модерни", Зимбу решил да продава компютри. Веднага си регистрирал фирма (ЕТ "Стратиджик инфлуенсинг енд трендсетинг – Зимбу Маймуната") и започнал дейността си в един гараж. Но Зимбу не бил вчерашен. Още с пристигането си тук, той бил разбрал, че не иска да работи и му се струвало съвсем естествено да не прави нищо, а да получава по много. Затова той иска да автоматизира дейността си и някой да му напише програма (разбира се, безплатно – "Тия програмисти какво само искат!"). С нея хората сами ще могат да си направят конфигурация и да си я продадат сами на себе си. Вашата задача е да помогнете на Зимбу.

A) Компютрите които ще продава Зимбу се състоят от различни Компоненти. Един компонент има списък от неговите характеристики и техните количества. Всеки компонент е immutable обект (не може да се добавят ядра на вече произведен процесор).

Реализирайте клас property, с който да представите характеристика. Характеристиките също трябва да бъдат immutable обекти. Характеристиката трябва да има:

    име -- символен низ от тип std::string;
    количество -- цяло число от тип int;
    ценови множител -- число от тип double.

Реализирайте клас component, с който да представите компонент. Компонентът трябва да има:

    Списък с характеристики, които го описват. Няма ограничение за техния брой -- може да се произволно много. В един компонент не трябва да има две характеристики с еднакви имена.
    Член-функции за добавяне и премахване на характеристики. Трябва да има и възможност за промяна на вече добавена характеристика.
    Член-функция, която по подадено име на характеристика, връща нейното количество. Помислете как да предупредите потребителя, ако той потърси за характеристика, която не се съдържа в компонента.
    Цена. Тя се смята като сумата от количеството на всяка характеристика умножена по неговия "ценови множител". За целта добавете в класа член-функция, която да връща цената.

Понеже Зимбу тепърва прохожда в бизнеса, неговият магазин има само 3 вида компоненти, но още другата седмица ще направи поръчка за още 7 вида! Решението ви, на останалите подточки, трябва да бъде такова, че да може да се работи с произволен вид и брой компоненти. Решение, в което се фиксира техният брой не е коректно.

Видовете компоненти които са налични в магазина са:

    Процесор (cpu) с характеристики: брой ядра, честота в MHz
    Памет (ram) с характеристики: количество гигабайти, брой чипове, брой цветове с които свети в RGB
    Хард Диск (hdd) с характеристики: количество терабайти, скорост на четене в мегабайти, скорост на писане в мегабайти

Реализирайте класове-наследници на component за всеки от посочените горе компоненти.

Пример за компонент от тип Процесор:

    4 ядра с "ценови множител" 120лв
    5.3 гигахерца с "ценови множител" 50лв за GHz (т.е. 0,05 за MHz)

Общата цена е 4 * 120 + 5300 * 0.05 = 745лв

Б) Зимбу притежава Магазин в който има списък с всички компоненти, които се предлагат в него.

Напишете клас store, който представя магазин. Класът трябва да има методи, с които в него да могат да се добавят и премахват компоненти, да се намира броят на съхранените в него компоненти и да се достъпват те.

В) Зимбу задава видовете компоненти и наличностите при стартиране на програмата. За целта тя ще получава, като аргумент от командния ред (argc/argv), път към текстов файл. Тя трябва да отваря и прочита от този файл списък от компоненти и веднага след това да го затваря.

Всеки компонент се описва на отделен ред във файла. Всеки такъв ред започва с ключова дума, която указва типа на компонента (cpu,ram,hdd). След нея, разделени с интервали следват характеристиките му. Всяка характеристика се описва като се посочи нейното име, следвано от количество и ценови множител. Например:

cpu "cores count" 4 120.0 frequency 5300 50

Редът, в който се изреждат характеристиките може да бъде произволен. Също, забележете, че някоя от характеристиките може да включва интервал в името си. По тази причина то може да бъде оградено в кавички.

Напишете клас store_builder, който може да прочете съдържанието на файл с компоненти, да построи магазин по него и да го върне.

Ако файлът не е коректен или при четенето му възникне грешка, това трябва да може да се открива от програмата ви. В такъв случай трябва да се хвърля подходящо изключение.

Г) Зимбу знае че продажбата на сглобени компютри (или както гордо ги нарича той -- конфигурации) е много по-изгодно от продажбата на отделни компоненти.

Реализирайте клас configuration, който представя конфигурация. Една конфигурация има:

    Списък от компонентите, които съдържа. Добавете подходяща член-функция (или член-функции), с които да може да се достъпват те и да се намира техният брой.
    В една конфигурация не може да има два компонента от еднакъв тип. Използвайте RTTI (typeid), за да осигурите това.
    Цена, която се смята като сумата от компонентите в нея и след това се сложи 7% надценка (Зимбу е хитър търговец).

Освен това Зимбу знае че клиентите са капризни. Затова иска от програмата да може всеки клиент да създава изискване за неговата конфигурация.

Реализирайте клас requirement, който представя изискване. Изискването също съдържа списък от компоненти. Те също трябва да могат да се достъпват и да се намира техният брой. В него също не може да има два компонента от еднакъв тип.

Считаме, че една конфигурация удовлетворява дадено изискване тогава и само тогава, когато:

    съдържа компоненти от същите типове като тези в изискването (но не е ограничена само до тях, може да съдържа и повече).
    характеристиките на компонентите в конфигурацията са същите или по-добри от тези в изискването. Например ако има изискване, в което се търси процесор с 5 ядра, конфигурацията няма да отговаря на него, ако няма процесор или има процесор само с 2 ядра.

Упътване:

    Забележете, че между магазина, конфигурацията и изискването има някои общи черти. Изнесете ги в общ клас.
    НЕ наследявайте тези класове помежду им. Например НЕ Е коректно магазинът да наследи конфигурацията или пък конфигурацията да наследи изискването.
    Помислете за подходящ начин (например чрез член-функция на изискването или конфигурацията), да можете да проверите дали дадена конфигурация отговаря на дадено изискване.
    Напомняме, че решението не трябва да прави предположение за броя и типа на компонентите, които се поддържат в програмата.

Д) Зимбу не иска да оставя клиентите сами да си сглобяват конфигурации. За тази цел той иска да има клас конфигуратор който ще може да създава тези конфигурации. Компонентите ще могат да бъдат предоставяни от магазина само на конфигуратора а не директно на клиентите. Конфигураторът трябва да може по даден магазин и изискване да създаде конфигурация, която покрива изискването или ако не може да се намери такава -- да извести потребителя.

Помислете как да организирате класовете така, че само конфигураторът да може да създава конфигурации. Също, само той трябва да може да взима компоненти от магазина.

Когато един компонент се добави в конфигурацията, той трябва да се премахва от магазина -- Зимбу иска да е изряден пред НАП и има голям страх да не би нещо да не излезе при евентуална ревизия.

Изискването трябва да се удовлетвори по възможно най-евтиния начин. Ако са възможни няколко решения с минимална цена, няма значение кое от тях ще бъде избрано.

Е) Напишете програма която удовлетворява желанията на Зимбу.

Програмата да зарежда видовете компоненти и наличностите при стартиране. Както вече беше указано, пътят към файла ще се подава като аргумент от командния ред.

След това програмата да предоставя възможността на потребител да създава изисквания и с тях да създава конфигурация през конфигуратора. Сами преценете как да осъществите въвеждането на изискванията.

За всяко изискване, което бъде удовлетворено, да се създава отделен текстов файл, в който да се описва съответната конфигурация. Този файл да бъде с име, от което да личи датата и часа, на които е направена поръчката. Сами преценете къде да се записват тези файлове (например в отделна директория за поръчки). Освен това на екрана да се изведе подходящо съобщение, което указва, че конфигурацията е успешно създадена и да се изведат нейните компоненти.

Когато работата на програмата приключи, съдържанието на магазина (т.е. останалите след продажбите компоненти) да се записва обратно в подадения от потребителя файл.

За всяка от тези задачи създайте подходящи класове и ги организирайте съгласно добрите практики на ООП. Решение, в което целият код е събран във функцията main няма да се приема.
